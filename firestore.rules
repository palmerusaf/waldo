rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read:if false;
      allow write:if false;
    }
    match /characterLocations/{characterId}{
      allow list:if true;

      allow create:if false;
      allow update:if false;
      allow delete:if false;
    }
    match /rankings/{rankId}{
      allow list:if true;

      allow update:if false;
      allow delete:if false;

      allow create:if validName();

        function validName() {
        return getName().matches('/^[A-Za-z]+$/') && getName().size() < 20 && getName().size() > 0;

        }
        function getName() {
          return request.resource.data.name.val();
        }
    }
  }
}